# Skill: ProjectCreator (项目创建器)

## 角色定位

你是知识管理系统的**项目创建器**，负责在 `10_Projects/` 目录下创建新项目目录，并初始化项目模版结构。

---

## 触发时机

- **手动调用**：用户执行 `/pkm addProject` 时

---

## 前置要求

⚠️ **必须先调用 `Verifier` 验证环境**：

```text
@Verifier → 确认 10_Projects/ 存在且可写 → 继续执行 ProjectCreator
```

如果 Verifier 验证失败，**立即中止**。

---

## 执行步骤

### 步骤 1：前置检查

调用 `Verifier`，确认：

- ✅ `10_Projects/` 目录存在
- ✅ `10_Projects/` 在可写白名单内
- ✅ 知识库结构完整

### 步骤 2：获取项目名称

**命名规则**：`YYYYMMDD_HHMMSS_<项目名称>`

**格式说明**：

- `YYYYMMDD_HHMMSS`：当前时间戳（年月日_时分秒）
- `_`：分隔符
- `<项目名称>`：用户提供的项目名称（简短、有意义）

**处理逻辑**：

1. **如果用户提供了项目名称**：
   - 使用用户提供的名称
   - 示例：`/pkm addProject 用户认证系统`
   - 输出目录：`10_Projects/20260113_143000_用户认证系统/`

2. **如果用户没有提供项目名称**：
   - **询问用户**：`请输入项目名称（简短描述，如：用户认证系统、电商首页优化等）：`
   - 等待用户输入
   - 使用用户输入的名称
   - 如果用户输入为空或取消，则中止操作

**示例**：

- 输入：`/pkm addProject 用户认证系统`
- 输出目录：`10_Projects/20260113_143000_用户认证系统/`

- 输入：`/pkm addProject`
- 输出：`请输入项目名称（简短描述，如：用户认证系统、电商首页优化等）：`
- 用户输入：`电商首页优化`
- 输出目录：`10_Projects/20260113_143000_电商首页优化/`

### 步骤 3：创建项目目录结构

在 `10_Projects/` 下创建项目目录，并初始化以下结构：

```text
10_Projects/<时间戳>_<项目名称>/
└── manual/              # 受保护区：项目金标准、架构决策（AI 只读，人工维护）
    └── .gitkeep         # 保持目录存在（可选）
```

**创建步骤**：

1. 创建主目录：`10_Projects/<时间戳>_<项目名称>/`
2. 创建 `manual/` 子目录（小写）
3. 在 `manual/` 目录中创建 `.gitkeep` 文件（如果使用 Git，可选）

### 步骤 4：创建项目 README（可选）

可选：在项目根目录创建 `README.md` 文件，包含项目基本信息：

```markdown
# <项目名称>

**创建时间**：YYYY-MM-DD HH:MM:SS

## 项目简介

（待补充）

## 项目结构

- `manual/` - 受保护区：项目金标准、架构决策（AI 只读，人工维护）
- 项目根目录 - 其他项目文件直接放在项目根目录下

---

*此项目由 PKM 系统自动创建*
```

---

## 输出格式

### 成功输出

```text
✅ 项目已创建

📁 目录：10_Projects/20260113_143000_XXX/
📅 时间：2026-01-13 14:30:00
📂 结构：
   └── manual/
```

### 目录已存在错误

```text
❌ 错误：项目目录已存在

目录：10_Projects/20260113_143000_用户认证系统/
建议：稍后重试（时间戳会自动更新）
```

### 用户取消或未输入名称

```text
❌ 操作已取消：未提供项目名称

提示：项目名称不能为空，请重新执行命令并提供项目名称
```

---

## 安全机制

### 1. 路径验证

- ✅ 只在 `10_Projects/` 下创建目录
- ❌ 禁止在其他目录创建
- ❌ 禁止创建超出知识库根目录的路径

### 2. 冲突检测

- 检查目录是否已存在
- 如果存在，提示用户并中止操作

---

## 特殊情况处理

### 情况 1：时间戳冲突

如果同一秒内创建项目，在时间戳后添加序号：`20260113_143000_1_XXX/`

---

## 关键原则

1. **简单快速**：创建过程应该快速完成，如果用户提供了项目名称则直接创建
2. **结构标准**：所有项目都遵循相同的目录结构
3. **命名统一**：所有项目使用时间戳前缀 + 用户提供的项目名称（时间在前，名称在后）
4. **必须命名**：项目名称不能为空，如果用户未提供则询问，如果用户取消则中止
5. **安全第一**：严格验证路径，防止安全风险

---

## 预期效果

通过 ProjectCreator，用户可以：

- ✅ 快速创建新项目目录
- ✅ 自动初始化标准项目结构
- ✅ 保持项目命名规范统一
- ✅ 便于后续的项目管理和归档
